import{_ as W,g as te,r,w as le,a as _,b as f,m as d,q as K,F as T,A as Z,D as z,z as ce,v as w,p as c,G as B,t as k,o as i,c as ue,H as pe,I as me,J as ge,f as fe,s as ve,e as G,j as ke,K as ie,u as _e,k as we}from"./index-BS6Z16bI.js";import{B as J,T as ye}from"./TopBackHome-DF09gmrI.js";import{e as xe}from"./eventBus-0Z2uCDLL.js";const be={class:"board-container"},Me={key:0,class:"product-container"},Ce={class:"board-info"},Ve={class:"board-image-container"},$e={class:"board-image"},Ie={class:"thumbnail-container"},Ae={class:"info-list"},Fe={class:"info-item"},De={class:"info-item"},Se={class:"info-item"},je={key:1,class:"no-data-notify"},Be={__name:"BoardDetail",props:{boardDetail:{}},setup(o){const{t:C}=te(),M=r(""),n=o,v=r(0);le(()=>n.boardDetail,h=>{var j;((j=h==null?void 0:h.pictures)==null?void 0:j.length)>0&&(M.value=h.pictures[0])},{immediate:!0});const I=h=>`http://39.100.90.48/${h}`,N=()=>{var E,P;const h=(P=(E=n.boardDetail)==null?void 0:E.hw_info)==null?void 0:P.ram;if(!Array.isArray(h)||h.length===0)return C("notConfigured");const j=h[0],U=j.type||"Unknown",S=Array.isArray(j.capacity)?j.capacity.join("/"):"Unknown";return`${U}, ${S}`},D=()=>{var h;return((h=n.boardDetail.hw_info)==null?void 0:h.storage)||[]},b=()=>{var h,j;return((j=(h=n.boardDetail.hw_info)==null?void 0:h.connectivity)==null?void 0:j.filter(U=>["USB-A","Ethernet","HDMI","MIPI-CSI","MIPI-DSI"].includes(U.type)))||[]},A=()=>{var h,j;return((j=(h=n.boardDetail.hw_info)==null?void 0:h.connectivity)==null?void 0:j.filter(U=>["USB-C","WiFi","Bluetooth"].includes(U.type)))||[]},F=h=>{var j;M.value=((j=n.boardDetail.pictures)==null?void 0:j[h])||"",v.value=h};return(h,j)=>{var P;const U=K("el-image"),S=K("el-row"),E=K("el-col");return i(),_("div",be,[o.boardDetail?(i(),_("div",Me,[f("div",Ce,[f("div",Ve,[f("div",$e,[d(U,{src:I(M.value),style:{width:"32vh",height:"42vh","border-radius":"8px"}},null,8,["src"])]),f("div",Ie,[(i(!0),_(T,null,Z(((P=o.boardDetail)==null?void 0:P.pictures)||[],($,m)=>(i(),z(U,{key:m,class:ce({"active-border":m===v.value}),src:I($),style:{width:"60px",height:"45px","margin-right":"10px",cursor:"pointer","border-radius":"4px"},onClick:g=>F(m)},null,8,["class","src","onClick"]))),128))])]),f("div",Ae,[f("div",Fe,[d(J,{title:w(C)("boardInfo")},null,8,["title"]),d(S,null,{default:c(()=>[d(E,{span:8},{default:c(()=>[d(S,{style:{"margin-bottom":"8px"}},{default:c(()=>[B(k(w(C)("vendorName"))+": ",1)]),_:1}),d(S,{class:"text-limit-16 text-style"},{default:c(()=>{var $,m;return[B(k((m=($=o.boardDetail)==null?void 0:$.vendor)==null?void 0:m.name),1)]}),_:1})]),_:1}),d(E,{span:8},{default:c(()=>[d(S,{style:{"margin-bottom":"8px"}},{default:c(()=>[B(k(w(C)("socModel"))+":",1)]),_:1}),d(S,{class:"text-limit-32 text-style"},{default:c(()=>{var $,m;return[B(k((m=($=o.boardDetail)==null?void 0:$.soc)==null?void 0:m.name),1)]}),_:1})]),_:1}),d(E,{span:8},{default:c(()=>[d(S,{style:{"margin-bottom":"8px"}},{default:c(()=>[B(k(w(C)("boardType"))+":",1)]),_:1}),d(S,{class:"text-style"},{default:c(()=>{var $;return[B(k(($=o.boardDetail)==null?void 0:$.type),1)]}),_:1})]),_:1})]),_:1})]),f("div",De,[d(J,{title:w(C)("ramConfig")},null,8,["title"]),d(S,{class:"text-style"},{default:c(()=>[B(k(N()),1)]),_:1})]),f("div",Se,[d(S,null,{default:c(()=>[d(E,{span:8},{default:c(()=>[d(J,{title:w(C)("storageInterface")},null,8,["title"]),d(S,null,{default:c(()=>[(i(!0),_(T,null,Z(D(),($,m)=>(i(),z(E,{key:m,span:24},{default:c(()=>[f("li",null,k($.type)+", "+k($.capacity||w(C)("notConfigured")),1)]),_:2},1024))),128))]),_:1})]),_:1}),d(E,{span:8},{default:c(()=>[d(J,{title:w(C)("highSpeedInterface")},null,8,["title"]),d(S,null,{default:c(()=>[(i(!0),_(T,null,Z(b(),($,m)=>(i(),z(E,{key:m,span:24},{default:c(()=>[f("li",null,k($.type)+" "+k($.nums?`x${$.nums}`:""),1)]),_:2},1024))),128))]),_:1})]),_:1}),d(E,{span:8},{default:c(()=>[d(J,{title:w(C)("lowSpeedInterface")},null,8,["title"]),d(S,null,{default:c(()=>[(i(!0),_(T,null,Z(A(),($,m)=>(i(),z(E,{key:m,span:24},{default:c(()=>[f("li",null,k($.type)+" "+k($.nums?`x${$.nums}`:""),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])])])])):(i(),_("div",je,[f("p",null,k(w(C)("noBoardDetailInfo")),1)]))])}}},He=W(Be,[["__scopeId","data-v-7157dafb"]]),Le={class:"filters"},Ue={class:"filter-row"},Ee={style:{display:"flex",flexDirection:"column"}},Te={class:"filter-item"},Ze={class:"filter-new-label"},Ne={style:{display:"flex","flex-wrap":"wrap","margin-top":"8px"}},ze={class:"filter-item"},Oe={class:"filter-new-label"},Pe={style:{display:"flex","flex-wrap":"wrap","margin-top":"8px"}},qe={class:"filter-row"},Re={style:{display:"flex",flexDirection:"column"}},Ke={class:"filter-item"},Je={class:"filter-new-label"},Qe={style:{display:"flex","flex-wrap":"wrap","margin-top":"8px"}},Ge={class:"filter-new-label"},We={style:{display:"flex","flex-wrap":"wrap","margin-top":"8px"}},Xe={style:{display:"flex",flexDirection:"column",position:"relative",bottom:"12px",height:"32px"}},Ye={class:"filter-item"},et={style:{display:"flex","flex-wrap":"wrap"}},tt={style:{display:"flex",flexDirection:"column",position:"relative",bottom:"12px",height:"32px"}},lt={class:"filter-item"},st={style:{display:"flex","flex-wrap":"wrap"}},at={__name:"BoardFilter",props:{filters:{type:Object,required:!0,default:()=>({kernel:{},kernels:{},isaMabi:{},isaMarch:{},flavor:{},installer:{}})},kernelOptions:{type:Array,default:()=>[]},kernelVersions:{type:Array,default:()=>[]},isaMabi:{type:Array,default:()=>[]},isaMarch:{type:Array,default:()=>[]},otherFilters:{type:Object,default:()=>({flavor:{label:"预装列表",options:[]},installer:{label:"引导器",options:[]}})},suitesForSelect:{},isFilter:Boolean},emits:["toggle-filter"],setup(o,{emit:C}){const{t:M}=te(),n=o,v=r(!1),I=r([]),N=r([]),D=r([]),b=r([]),A=r({flavor:{label:"预装列表",options:[]},installer:{label:"引导器",options:[]}}),F=r([]),h=r([]),j=C,U=(m,g)=>{var V,X,Y,ee,s;const y=n.filters[m],O=m==="kernel"?n.kernelOptions.map(e=>e.version):m==="kernels"?n.kernelVersions.map(e=>e.version):m==="isaMabi"?n.isaMabi.map(e=>e.profile):m==="isaMarch"?n.isaMarch.map(e=>e.profile):((X=(V=n.otherFilters[m])==null?void 0:V.options)==null?void 0:X.map(e=>e.profile||e.flavor||e))||[],R=y.selected.length;y.checkAll=!(y.selected.length>0),y.isIndeterminate=!(R>0&&R<O.length);const l=n.filters,L=l.flavor.checkAll&&l.installer.checkAll&&l.isaMabi.checkAll&&l.isaMarch.checkAll&&l.kernel.checkAll&&l.kernels.checkAll;j("toggle-filter",{filters:n.filters,isFilter:!L}),L?(v.value=!1,F.value=[],h.value=[],I.value=[],N.value=[],D.value=[],b.value=[],A.value.flavor.options=[],A.value.installer.options=[]):g==2?(!v.value&&n.suitesForSelect.length>1||v.value&&h.value.length>1)&&(v.value?F.value=h.value:(v.value=!0,F.value=n.suitesForSelect),h.value=y.selected.length>0?(Y=F.value)==null?void 0:Y.filter(e=>E(y.selected,e[m])):F.value,I.value=S(h.value,"kernel"),N.value=S(h.value,"kernels"),D.value=S(h.value,"isaMabi"),b.value=S(h.value,"isaMarch"),A.value.flavor.options=S(h.value,"flavor"),A.value.installer.options=S(h.value,"installer")):(s=(ee=Object.keys(l))==null?void 0:ee.filter(e=>l[e].checkAll))==null||s.map(e=>{var x,a,t,u;switch(e){case"kernel":I.value=n.kernelOptions.map(p=>p.version);break;case"kernels":N.value=n.kernelVersions.map(p=>p.version);break;case"isaMabi":D.value=n.isaMabi.map(p=>p.profile);break;case"isaMarch":b.value=n.isaMarch.map(p=>p.profile);break;case"flavor":A.value.flavor.options=(a=(x=n.otherFilters[e])==null?void 0:x.options)==null?void 0:a.map(p=>p.profile||p.flavor||p);break;case"installer":A.value.installer.options=(u=(t=n.otherFilters[e])==null?void 0:t.options)==null?void 0:u.map(p=>p.profile||p.flavor||p);break}})},S=(m,g)=>{const y=new Set;return m.forEach(O=>{O&&Array.isArray(O[g])&&O[g].forEach(R=>{y.add(R)})}),Array.from(y)},E=(m,g)=>{const y=new Set(m);return g.some(O=>y.has(O))},P=m=>{const g=n.filters[m];m==="kernel"?n.kernelOptions.map(y=>y.version):m==="kernels"?n.kernelVersions.map(y=>y.version):m==="isaMabi"?n.isaMabi.map(y=>y.profile):m==="isaMarch"?n.isaMarch.map(y=>y.profile):n.otherFilters[m].options.map(y=>y.profile||y.flavor||y),g.selected=[],U(m,1)},$=m=>{U(m,2)};return le(()=>n.isFilter,m=>{m||(v.value=!1,F.value=[],h.value=[],I.value=[],N.value=[],D.value=[],b.value=[],A.value.flavor.options=[],A.value.installer.options=[])},{immediate:!0,deep:!0}),(m,g)=>{const y=K("el-checkbox-button"),O=K("el-checkbox-group"),R=K("el-container");return i(),_("div",Le,[f("div",Ue,[d(R,{style:{"flex-direction":"column"}},{default:c(()=>[d(J,{title:w(M)("kernelVersion")},null,8,["title"]),f("div",Ee,[f("div",Te,[f("span",Ze,k(w(M)("versionLabel")),1),f("div",Ne,[d(y,{modelValue:o.filters.kernel.checkAll,"onUpdate:modelValue":g[0]||(g[0]=l=>o.filters.kernel.checkAll=l),indeterminate:o.filters.kernel.isIndeterminate,onChange:g[1]||(g[1]=l=>P("kernel")),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:1},8,["modelValue","indeterminate"]),d(O,{modelValue:o.filters.kernel.selected,"onUpdate:modelValue":g[2]||(g[2]=l=>o.filters.kernel.selected=l),onChange:g[3]||(g[3]=l=>$("kernel"))},{default:c(()=>[v.value?(i(!0),_(T,{key:1},Z(I.value,l=>(i(),z(y,{key:l,value:l},{default:c(()=>[B(k(l),1)]),_:2},1032,["value"]))),128)):(i(!0),_(T,{key:0},Z(o.kernelOptions,l=>(i(),z(y,{key:l,value:l.version},{default:c(()=>[B(k(l.version),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),f("div",ze,[f("span",Oe,k(w(M)("versionNumber")),1),f("div",Pe,[d(y,{modelValue:o.filters.kernels.checkAll,"onUpdate:modelValue":g[4]||(g[4]=l=>o.filters.kernels.checkAll=l),indeterminate:o.filters.kernels.isIndeterminate,onChange:g[5]||(g[5]=l=>P("kernels")),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:1},8,["modelValue","indeterminate"]),d(O,{modelValue:o.filters.kernels.selected,"onUpdate:modelValue":g[6]||(g[6]=l=>o.filters.kernels.selected=l),onChange:g[7]||(g[7]=l=>$("kernels"))},{default:c(()=>[v.value?(i(!0),_(T,{key:1},Z(N.value,l=>(i(),z(y,{key:l,value:l},{default:c(()=>[B(k(l),1)]),_:2},1032,["value"]))),128)):(i(!0),_(T,{key:0},Z(o.kernelVersions,l=>(i(),z(y,{key:l.version,value:l.version},{default:c(()=>[B(k(l.version),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1})]),f("div",qe,[d(R,{style:{"flex-direction":"column"}},{default:c(()=>[d(J,{title:w(M)("isaBaseline")},null,8,["title"]),f("div",Re,[f("div",Ke,[f("span",Je,k(w(M)("isaMabi")),1),f("div",Qe,[d(y,{modelValue:o.filters.isaMabi.checkAll,"onUpdate:modelValue":g[8]||(g[8]=l=>o.filters.isaMabi.checkAll=l),indeterminate:o.filters.isaMabi.isIndeterminate,onChange:g[9]||(g[9]=l=>P("isaMabi")),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:1},8,["modelValue","indeterminate"]),d(O,{modelValue:o.filters.isaMabi.selected,"onUpdate:modelValue":g[10]||(g[10]=l=>o.filters.isaMabi.selected=l),onChange:g[11]||(g[11]=l=>$("isaMabi"))},{default:c(()=>[v.value?(i(!0),_(T,{key:1},Z(D.value,l=>(i(),z(y,{key:l,value:l},{default:c(()=>[B(k(l),1)]),_:2},1032,["value"]))),128)):(i(!0),_(T,{key:0},Z(n.isaMabi,l=>(i(),z(y,{key:l,value:l.profile},{default:c(()=>[B(k(l.profile),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),f("div",null,[f("span",Ge,k(w(M)("isaMarch")),1),f("div",We,[d(y,{modelValue:o.filters.isaMarch.checkAll,"onUpdate:modelValue":g[12]||(g[12]=l=>o.filters.isaMarch.checkAll=l),indeterminate:o.filters.isaMarch.isIndeterminate,onChange:g[13]||(g[13]=l=>P("isaMarch")),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:1},8,["modelValue","indeterminate"]),d(O,{modelValue:o.filters.isaMarch.selected,"onUpdate:modelValue":g[14]||(g[14]=l=>o.filters.isaMarch.selected=l),onChange:g[15]||(g[15]=l=>$("isaMarch"))},{default:c(()=>[v.value?(i(!0),_(T,{key:1},Z(b.value,l=>(i(),z(y,{key:l,value:l},{default:c(()=>[B(k(l),1)]),_:2},1032,["value"]))),128)):(i(!0),_(T,{key:0},Z(o.isaMarch,l=>(i(),z(y,{key:l.profile,value:l.profile},{default:c(()=>[B(k(l.profile),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1})]),v.value?(i(!0),_(T,{key:1},Z(A.value,(l,L)=>(i(),_("div",{class:"filter-row",key:L},[d(J,{title:l.label},null,8,["title"]),f("div",tt,[f("div",lt,[f("div",st,[d(y,{modelValue:o.filters[L].checkAll,"onUpdate:modelValue":V=>o.filters[L].checkAll=V,indeterminate:o.filters[L].isIndeterminate,onChange:V=>P(L),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"]),d(O,{modelValue:o.filters[L].selected,"onUpdate:modelValue":V=>o.filters[L].selected=V,onChange:V=>$(L)},{default:c(()=>[(i(!0),_(T,null,Z(l.options,V=>(i(),z(y,{key:V.id||V,value:V.profile||V.flavor||V},{default:c(()=>[B(k(V.profile||V.flavor||V),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])])]))),128)):(i(!0),_(T,{key:0},Z(o.otherFilters,(l,L)=>(i(),_("div",{class:"filter-row",key:L},[d(J,{title:l.label},null,8,["title"]),f("div",Xe,[f("div",Ye,[f("div",et,[d(y,{modelValue:o.filters[L].checkAll,"onUpdate:modelValue":V=>o.filters[L].checkAll=V,indeterminate:o.filters[L].isIndeterminate,onChange:V=>P(L),style:{"margin-right":"10px",height:"32px"}},{default:c(()=>[B(k(w(M)("any")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"]),d(O,{modelValue:o.filters[L].selected,"onUpdate:modelValue":V=>o.filters[L].selected=V,onChange:V=>$(L)},{default:c(()=>[(i(!0),_(T,null,Z(l.options,V=>(i(),z(y,{key:V.id||V,value:V.profile||V.flavor||V},{default:c(()=>[B(k(V.profile||V.flavor||V),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])])]))),128))])}}},nt=W(at,[["__scopeId","data-v-03929955"]]),it="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66699%208H14.667'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66699%2012.6666H14.667'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66699%203.33337H14.667'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%2011.3334H1.33301V14H3.99967V11.3334Z'%20stroke='%23999999'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%206.66663H1.33301V9.33329H3.99967V6.66663Z'%20stroke='%23999999'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%202H1.33301V4.66667H3.99967V2Z'%20stroke='%23999999'%20stroke-linejoin='round'/%3e%3c/svg%3e",rt="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66699%208H14.667'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66699%2012.6667H14.667'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66699%203.33325H14.667'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%2011.3333H1.33301V13.9999H3.99967V11.3333Z'%20stroke='%23666666'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%206.66675H1.33301V9.33341H3.99967V6.66675Z'%20stroke='%23666666'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.99967%202H1.33301V4.66667H3.99967V2Z'%20stroke='%23666666'%20stroke-linejoin='round'/%3e%3c/svg%3e",ot="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.6663%203.33337H4.33301V14.6667H13.6663V3.33337Z'%20stroke='%23999999'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.6663%203.33337V1.33337H2.66634C2.48225%201.33337%202.33301%201.48261%202.33301%201.66671V12.6667H4.33301'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%207.33337H11'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%2010H11'%20stroke='%23999999'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dt="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.6663%203.33325H4.33301V14.6666H13.6663V3.33325Z'%20stroke='%23666666'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.6663%203.33325V1.33325H2.66634C2.48225%201.33325%202.33301%201.48249%202.33301%201.66659V12.6666H4.33301'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%207.33325H11'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%2010H11'%20stroke='%23666666'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ct="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.78566%201.24799C4.38529%200.739444%203.61461%200.739444%203.21424%201.24799L0.944133%204.13141C0.427681%204.78739%200.894962%205.75%201.72985%205.75L6.27005%205.75C7.10494%205.75%207.57222%204.78739%207.05577%204.13141L4.78566%201.24799Z'%20fill='%23012FA6'/%3e%3c/svg%3e",ut="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_166_7464)'%3e%3cpath%20d='M6.78566%204.24799C6.38529%203.73944%205.61461%203.73944%205.21424%204.24799L2.94413%207.13141C2.42768%207.78739%202.89496%208.75%203.72985%208.75H8.27005C9.10494%208.75%209.57222%207.78739%209.05577%207.13141L6.78566%204.24799Z'%20fill='%23CCCCCC'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_166_7464'%3e%3crect%20width='12'%20height='12'%20fill='white'%20transform='matrix(0%20-1%20-1%200%2012%2012)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ft="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.78566%204.75201C4.38529%205.26056%203.61461%205.26056%203.21424%204.75201L0.944133%201.86859C0.427681%201.21261%200.894962%200.25%201.72985%200.25L6.27005%200.25C7.10494%200.25%207.57222%201.21261%207.05577%201.86859L4.78566%204.75201Z'%20fill='%23012FA6'/%3e%3c/svg%3e",vt="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_166_7740)'%3e%3cpath%20d='M6.78566%207.75201C6.38529%208.26056%205.61461%208.26056%205.21424%207.75201L2.94413%204.86859C2.42768%204.21261%202.89496%203.25%203.72985%203.25L8.27005%203.25C9.10494%203.25%209.57222%204.21261%209.05577%204.86859L6.78566%207.75201Z'%20fill='%23CCCCCC'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_166_7740'%3e%3crect%20width='12'%20height='12'%20fill='white'%20transform='matrix(0%201%20-1%200%2012%200)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ht={class:"table-container"},pt={class:"cell-content"},mt={class:"pagination-container"},gt={__name:"SingleTable",props:{tabledata:Array,title:String,jumpImage:Function,imagesuiteIndex:Number},setup(o){const C=o,M=(A,F,h,j)=>{C.jumpImage(C.imagesuiteIndex,A.index)},n=r([...C.tabledata]),v=r(1),I=r(10),N=ue(()=>{const A=(v.value-1)*I.value,F=A+I.value;return n.value.slice(A,F)}),D=A=>{I.value=A,v.value=1},b=A=>{v.value=A};return(A,F)=>(i(),_("div",ht,[d(w(me),{data:N.value,"show-header":!1,onCellClick:M},{default:c(()=>[d(w(pe),{prop:"content",align:"left"},{default:c(h=>[f("div",pt,k(C.title+" "+h.row.date),1)]),_:1})]),_:1},8,["data"]),f("div",mt,[d(w(ge),{"current-page":v.value,"onUpdate:currentPage":F[0]||(F[0]=h=>v.value=h),"page-size":I.value,"onUpdate:pageSize":F[1]||(F[1]=h=>I.value=h),"page-sizes":[10],total:n.value.length,layout:"prev, pager, next","hide-on-single-page":!0,onSizeChange:D,onCurrentChange:b},null,8,["current-page","page-size","total"])])]))}},kt=W(gt,[["__scopeId","data-v-df8a8bd7"]]),_t={class:"component-container"},wt={key:0,class:"version-list"},yt={class:"version-des"},xt=["onClick"],bt={class:"vs-label"},Mt={class:"vs-title"},Ct={key:0,src:it,style:{"margin-right":"4px"}},Vt={key:1,src:rt,style:{"margin-right":"4px"}},$t={class:"version-number"},It={class:"vs-label"},At={class:"vs-title"},Ft={key:0,src:ot,style:{"margin-right":"4px"}},Dt={key:1,src:dt,style:{"margin-right":"4px"}},St={class:"version-number changelog-content"},jt=["onClick"],Bt=["src"],Ht={key:0},Lt={__name:"BoardDescription",props:{title:String,description:String,historyVersions:{type:Array,default:()=>[]},openImage:Function},setup(o){const C=fe(),{isDark:M}=ve(C),{t:n}=te(),v=r([]),I=o,N=b=>{v.value[b].isExpanded=!v.value[b].isExpanded};le(()=>I.historyVersions,b=>{v.value=JSON.parse(JSON.stringify(b))},{immediate:!0});const D=async(b,A)=>{await I.openImage(b,A)};return(b,A)=>(i(),_("div",_t,[v.value&&v.value.length>0?(i(),_("div",wt,[(i(!0),_(T,null,Z(v.value,(F,h)=>{var j;return i(),_("div",{key:h,class:"version-card",onMouseenter:A[0]||(A[0]=(...U)=>b.handleMouseEnter&&b.handleMouseEnter(...U)),onMouseleave:A[1]||(A[1]=(...U)=>b.handleMouseLeave&&b.handleMouseLeave(...U))},[f("div",yt,k(I.title),1),f("div",{class:"vs-first",onClick:U=>D(F.imagesuiteIndex,0)},[f("div",bt,[f("div",Mt,[w(M)?(i(),_("img",Ct)):(i(),_("img",Vt)),f("span",null,k(w(n)("version")),1)]),f("div",$t,k(I.title+"  "+F.version[0].date),1)]),f("div",It,[f("div",At,[w(M)?(i(),_("img",Ft)):(i(),_("img",Dt)),f("span",null,k(w(n)("changeLog")),1)]),f("div",St,k(F.version[0].changelog||"无变更说明"),1)])],8,xt),f("div",{class:"vs-more",onClick:U=>N(h)},[f("img",{width:"10",height:"10",style:{"margin-right":"4px"},src:F.isExpanded?w(M)?w(ut):w(ct):w(M)?w(vt):w(ft),alt:"箭头图标",class:"arrow-icon"},null,8,Bt),f("div",null,k(w(n)("allversion")),1)],8,jt),F.isExpanded?(i(),_("div",Ht,[d(kt,{"jump-image":D,imagesuiteIndex:F.imagesuiteIndex,tabledata:(j=F==null?void 0:F.version)==null?void 0:j.map((U,S)=>({...U,index:S})),title:I.title},null,8,["imagesuiteIndex","tabledata","title"])])):G("",!0)],32)}),128))])):G("",!0)]))}},de=W(Lt,[["__scopeId","data-v-57ced482"]]),he=new Map;function Ut(o){const C=fetch(o),M=[];he.set(o.replace("zh_CN","lange").replace("en_US","lange"),M);const n={then:v=>(M.push(v),n),catch:v=>(C.catch(v),n),notify:v=>{M.forEach(I=>I(v))}};return C.then(v=>{M.forEach(I=>I(v)),n.lastResponse=v}).catch(v=>{console.error("语言请求错误:",v)}),n}xe.on("languageChanged",o=>{he.forEach((C,M)=>{fetch(M.replace("lange",o)).then(v=>{C.forEach(I=>I(v))})})});const Et="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C6.47715%2022%202%2017.5229%202%2012C2%206.47715%206.47715%202%2012%202C17.5229%202%2022%206.47715%2022%2012C22%2017.5229%2017.5229%2022%2012%2022Z'%20stroke='%23333333'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.5%2016.5L15%2012L10.5%207.5'%20stroke='%23333333'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Tt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C6.47715%2022%202%2017.5229%202%2012C2%206.47715%206.47715%202%2012%202C17.5229%202%2022%206.47715%2022%2012C22%2017.5229%2017.5229%2022%2012%2022Z'%20stroke='%23012FA6'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.5%2016.5L15%2012L10.5%207.5'%20stroke='%23012FA6'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C6.47715%2022%202%2017.5229%202%2012C2%206.47715%206.47715%202%2012%202C17.5229%202%2022%206.47715%2022%2012C22%2017.5229%2017.5229%2022%2012%2022Z'%20stroke='%23006AFF'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.5%2016.5L15%2012L10.5%207.5'%20stroke='%23006AFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Nt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C6.47715%2022%202%2017.5229%202%2012C2%206.47715%206.47715%202%2012%202C17.5229%202%2022%206.47715%2022%2012C22%2017.5229%2017.5229%2022%2012%2022Z'%20stroke='%23999999'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.5%2016.5L15%2012L10.5%207.5'%20stroke='%23999999'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",zt={key:0,src:Et,alt:"arrow icon",style:{width:"24px",height:"24px"}},Ot={key:1,src:Tt,alt:"arrow icon",style:{width:"24px",height:"24px"}},Pt={key:2,src:Zt,alt:"arrow icon",style:{width:"24px",height:"24px"}},qt={key:3,src:Nt,alt:"arrow icon",style:{width:"24px",height:"24px"}},Rt={__name:"CustomArrowIcon",props:{isFilter:Boolean},setup(o){const C=o,M=fe(),{isDark:n}=ve(M);return(v,I)=>!w(n)&&!C.isFilter?(i(),_("img",zt)):!w(n)&&C.isFilter?(i(),_("img",Ot)):w(n)&&C.isFilter?(i(),_("img",Pt)):(i(),_("img",qt))}},Kt={class:"detail-container"},Jt={key:0},Qt={key:1,style:{"font-size":"24px",color:"#012fa6"}},Gt={key:1,class:"box-card"},Wt={style:{width:"100%"}},Xt={style:{flex:"auto"}},Yt={__name:"index",props:{productUri:{type:String,default:""},vendor:String,product:String},setup(o){const{t:C}=te(),M=r(!1),n=r({});r({});const v=r(!1),I=r([]),N=r({kernel:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1),all:["RVCK","VENDOR","TORVALDS"]},kernels:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},isaMabi:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},isaMarch:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},flavor:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},installer:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)}}),D=r(""),b=r(""),A=_e(),F=we(),h=r(!1),j=(s,e)=>e==null?void 0:e.filter(a=>s.flavor.selected.length>0&&a.flavor?s.flavor.selected.includes(a==null?void 0:a.flavor):a).filter(a=>{var t;return s.installer.selected.length>0&&a.loader.length>0?s.installer.selected.includes((t=a==null?void 0:a.loader)==null?void 0:t[0]):a}).filter(a=>s.isaMabi.selected.length>0&&a.isa.mabi?s.isaMabi.selected.includes(a.isa.mabi):a).filter(a=>s.isaMarch.selected.length>0&&a.isa.march.length>0?s.isaMarch.selected.filter(t=>a.isa.march.includes(t)):a).filter(a=>s.kernel.selected.length>0&&a.kernel.type?s.kernel.selected.includes(a.kernel.type):a).filter(a=>s.kernels.selected.length>0&&a.kernel.version?s.kernels.selected.includes(a.kernel.version):a),U=s=>{var a,t,u;v.value=s.isFilter;const e=(a=n.value.imagesuites)==null?void 0:a.find(p=>p.name===D.value),x=(u=(t=e==null?void 0:e.releases)==null?void 0:t.find(p=>p.name===b.value))==null?void 0:u.imagesuites;I.value=j(s.filters,x)},S=()=>{N.value={kernel:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1),all:["RVCK","VENDOR","TORVALDS"]},kernels:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},isaMabi:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},isaMarch:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},flavor:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)},installer:{selected:r([]),checkAll:r(!0),isIndeterminate:r(!1)}},v.value=!1},E=o,P=()=>{h.value=!0},$=async(s,e)=>{const x=D.value,a=b.value,t={...F.query},u={revision:e,...t,doc:0};await A.push({path:`/release/${x}/${a}/${E.vendor}/${E.product}/${s}`,query:u})},m=ue(()=>{var s;return((s=n.value.imagesuites)==null?void 0:s.map(e=>({name:e.name,releases:e.releases})))||[]}),g=s=>s.releases||[],y=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?e.imagesuites.filter(t=>{var u;return(u=t.kernel)==null?void 0:u.type}).flatMap(t=>[{version:t.kernel.type}]).filter((t,u,p)=>p.findIndex(H=>H.version===t.version)===u):[]},O=()=>{var x,a,t;const s=(x=n.value.imagesuites)==null?void 0:x.find(u=>u.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(u=>u.name===b.value);return e!=null&&e.imagesuites?(t=e.imagesuites)==null?void 0:t.map(u=>({id:u==null?void 0:u.id,flavor:[u.flavor],isaMabi:[u.isa.mabi],isaMarch:[...u.isa.march],kernel:[u.kernel.type],kernels:[u.kernel.version],installer:[...u.loader]})):[]},R=()=>{var x,a,t,u;const s=(x=n.value.imagesuites)==null?void 0:x.find(p=>p.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(p=>p.name===b.value);return((u=(t=e==null?void 0:e.imagesuites)==null?void 0:t[0])==null?void 0:u.description)||""},l=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?e.imagesuites.filter(t=>{var u;return(u=t.kernel)==null?void 0:u.version}).flatMap(t=>[{version:t.kernel.version}]).filter((t,u,p)=>p.findIndex(H=>H.version===t.version)===u):[]},L=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?e.imagesuites.flatMap((t,u)=>{const p=t.isa;return!p||!p.mabi?[]:{id:`${u}-0`,profile:p.mabi}}).filter((t,u,p)=>p.findIndex(H=>H.profile===t.profile)===u):[]},V=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?e.imagesuites.flatMap((t,u)=>{const p=t.isa;return!p||!p.march?[]:p.march.map((H,Q)=>({id:`${u}-${Q}`,profile:H}))}).filter((t,u,p)=>p.findIndex(H=>H.profile===t.profile)===u):[]},X=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?e.imagesuites.flatMap((t,u)=>{const p=t.flavor;return p?Array.isArray(p)?p.map((H,Q)=>({id:`${u}-${Q}`,flavor:H})).filter((H,Q,q)=>q.findIndex(se=>se.flavor===H.flavor)===Q):[{id:`${u}-0`,flavor:p}]:[]}):[]},Y=()=>{var x,a;const s=(x=n.value.imagesuites)==null?void 0:x.find(t=>t.name===D.value),e=(a=s==null?void 0:s.releases)==null?void 0:a.find(t=>t.name===b.value);return e!=null&&e.imagesuites?[...new Set(e.imagesuites.map(t=>{var u;return(u=t.loader)==null?void 0:u[0]}).filter(Boolean))].filter((t,u,p)=>p.findIndex(H=>H===t)===u):[]};le([D,b],([s,e])=>{s&&e&&Object.keys(N.value).forEach(x=>{N.value[x].selected=[],N.value[x].checkAll=!0,N.value[x].isIndeterminate=!1})});const ee=async()=>{try{if(!E.productUri){ie.error("路由参数 productUri 为空");return}const s=`/${E.productUri}`;Ut(s).then(async x=>{if(!x.ok){ie.error(`请求失败，状态码: ${x.status}`);return}const a=await x.json();if(n.value=a,m.value.length){D.value=m.value[0].name;const t=m.value[0].releases[0];t&&(b.value=t.name)}})}catch(s){ie.error("获取板子详情失败："+s.message)}finally{M.value=!0}};return ke(async()=>{await ee()}),(s,e)=>{var p;const x=K("el-button"),a=K("el-tab-pane"),t=K("el-tabs"),u=K("el-drawer");return i(),_("div",Kt,[d(ye),d(He,{boardDetail:n.value},null,8,["boardDetail"]),((p=m.value)==null?void 0:p.length)>0?(i(),_("div",{key:0,class:ce(["drawer-btn",{"active-border":v.value}]),onClick:P},[d(x,null,{default:c(()=>[v.value?(i(),_("span",Qt,"*")):(i(),_("span",Jt,k(w(C)("showall")),1))]),_:1}),d(Rt,{isFilter:v.value,style:{cursor:"pointer",position:"absolute",right:"20px",top:"16px"}},null,8,["isFilter"])],2)):G("",!0),M.value?(i(),_("div",Gt,[f("div",Wt,[d(t,{modelValue:D.value,"onUpdate:modelValue":e[1]||(e[1]=H=>D.value=H),class:"top-tabs dark"},{default:c(()=>[(i(!0),_(T,null,Z(m.value,(H,Q)=>(i(),z(a,{key:Q,label:H.name,name:H.name},{default:c(()=>[d(t,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=q=>b.value=q),class:"sub-tabs dark",type:"border-card"},{default:c(()=>[(i(!0),_(T,null,Z(g(H),(q,se)=>(i(),z(a,{key:se,label:q.name,name:q.name},{default:c(()=>{var re,oe;return[n.value&&n.value.imagesuites&&!v.value?(i(),z(de,{key:0,title:q.name,description:R(q),historyVersions:((re=q.imagesuites)==null?void 0:re.map((ae,ne)=>({isExpanded:!1,version:ae.revisions,imagesuiteIndex:ne})))||[],"open-image":$},null,8,["title","description","historyVersions"])):G("",!0),v.value?(i(),z(de,{key:1,title:q.name,description:R(q),historyVersions:((oe=I.value)==null?void 0:oe.map((ae,ne)=>({isExpanded:!1,version:ae.revisions,imagesuiteIndex:ne})))||[],"open-image":$},null,8,["title","description","historyVersions"])):G("",!0)]}),_:2},1032,["label","name"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])])):G("",!0),d(u,{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=H=>h.value=H),title:"筛选",placement:"right",modal:!0},{default:c(()=>[f("div",null,[d(nt,{isFilter:v.value,onToggleFilter:U,filters:N.value,kernelVersions:l(s.release),kernelOptions:y(s.release),suitesForSelect:O(),isaMabi:L(s.release),isaMarch:V(s.release),otherFilters:{flavor:{label:w(C)("preInstalledList"),options:X(s.release)},installer:{label:w(C)("bootLoader"),options:Y(s.release)}}},null,8,["isFilter","filters","kernelVersions","kernelOptions","suitesForSelect","isaMabi","isaMarch","otherFilters"])])]),footer:c(()=>[f("div",Xt,[d(x,{color:"#012fa6",class:"drawer-footer-btn",onClick:S},{default:c(()=>[B(k(w(C)("reset")),1)]),_:1})])]),_:1},8,["modelValue"])])}}},sl=W(Yt,[["__scopeId","data-v-d27e29c7"]]);export{sl as default};
