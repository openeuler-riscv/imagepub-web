import{d as ge,_ as ye,u as ae,c as g,a as c,o as a,b as n,e as L,t as V,n as ke,f as we,s as Ce,r as i,g as Se,w as M,h as Ae,i as be,j as Le,k as Ue,l as X,m as B,p as J,q as De,v as k,x as Re,y as Be,z as Ie,F,A as O,B as qe,C as ee,D as b,E as Pe}from"./index-BS6Z16bI.js";import{D as te,_ as ne,a as Ee,b as Ne,c as Te,g as xe,E as se,Z as oe,e as Me}from"./eventBus-0Z2uCDLL.js";import{_ as Fe,a as Oe}from"./Group 109@3x-DFX2B6uc.js";const Ve="/assets/frame3Dark-BaZ2f_0d.png",Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtmT9oU1EUxr+TvGAGwRQcCjrUoSKFtLFTRUqSQVrQwUltEEophYIIGQsV+goW3MygUCilFDTt6KBQcUhKUXSxLykUaQcrOHQQreCQkpijebEaQ5OXvH+5LTfjy7nn3t/5zrvn3PsIx/xHx5wPEvCoKywVlAoKHgGZooILZLg8qaBhiAQ3cFbB7idnQd7LegzyuVVsjuy6HQ9nAEMLART9k0QcB6DoUMw5Bs3Csz8NbWTPLVCbAVUF3Z3DRPQAwOlDIRi7TFCR2ZoH1ILToPYBBpNh8nACoFBji2aNixTHRmy1MXtzVtYBux6fhNI2R4RbZpbAjGUUlDFs3vhhZrzRGOuAPckUARGjier9z0Aama0rTqSsNcCepwMEWrECdzCWia5BG3phh69KH9YAu5emiFi1Y1HMuIdsbMYOX4ICkors0LQEbDICAqWoVLBJ7crmUsG6YbN1FxUyRZOTRLhvKneqBjGLCBhaukrMz20BhHcQmZsv7fBlXx2EqqDn/Ct7WrVY1G4465tMyUOp2fa1zRFMNtvAMvLfxrB5R9Bm+yDswWQYHiQIaOi4xIAGD+JYF/249F9e6Sk7SgwVhPYaKfeFmSeQ3V504vRQPae1OljrpdGvLE5MEXgcRP4/ZgUmSgC5mSN8ZVFF3LXQDp8/rD/ln6+Rvf3ZiY2knk9nFHSbos58wgByKqLgVH4YRIMonfD3lHmKpnNWYyUEIL/vDwPFWRBdqADSQDRBoTVLxb+lgKxdOgP2PgJwvY5Sz8DFOPW++WRGzZYB6ikZyG8D1GG4cOYP+O4LUjTd9D1q6wDX+zoA5aMh3F+Dwjm6+HancfuypQRsNmKN2rNUsDpUMkUPTZ7WvYPlwr5RVftqZDjvYM/XeaR2Ub09Lb+HDw3r4H7+LvW9M9XHtkzBSqlY6x8Ac+mb4r+zZKn2wTNOvWuWPq8JAairmYr4ESiM/u5DI/DwCr76Fs2kpDvnwUZrhQt2wijoFKsEdCqybvmVCroVaafmkQo6FVm3/B57BX8B6dYISGPkxmkAAAAASUVORK5CYII=",ze=ge("productData",{state:()=>({proUrl:""}),actions:{setProUrl(w){this.proUrl=w}},getters:{userRoleStr(){return this.proUrl}}}),Qe="/assets/product_default-BfUS8uWb.png",je={class:"product-item-img"},Ke=["src"],Ze={key:0,class:"product-item-tag"},$e={class:"product-item-info"},Ge={class:"product-item-name"},He={class:"product-item-desc"},We={__name:"ProductItem",props:{info:{type:Object,required:!0}},setup(w){const C=ae(),u=()=>{C.push({path:`/board/${v.info.vendor.id}/${v.info.id}`}),y.setProUrl(v.info.url)},v=w,y=ze(),r=g(()=>!!String(v.info.kernel).includes("RVCK-")),p=g(()=>v.info.thumbnail?`/${v.info.thumbnail}`:Qe),f=g(()=>v.info.available!==!0?{opacity:.4}:{});return(S,U)=>(a(),c("div",{class:"product-item",onClick:u,style:ke(f.value)},[n("div",je,[n("img",{src:p.value,alt:"product image",width:"100%",height:"100%"},null,8,Ke),r.value?(a(),c("div",Ze,"内核同源")):L("",!0)]),n("div",$e,[n("div",Ge,V(w.info.name),1),n("div",He,V(w.info.vendor.name),1)])],4))}},Xe=ye(We,[["__scopeId","data-v-ac2b9b06"]]),Je={class:"page-container"},et={key:0,class:"setting"},tt={class:"right-section"},st={class:"setting-icon"},ot={class:"setting-icon"},at={class:"logo"},nt={key:0,src:ne,alt:"OERC Logo"},rt={key:1,src:Ee,alt:"OERC Logo"},lt={class:"search-container"},ct={class:"search-bar"},it={class:"circle-img"},ut={key:0,src:ne,alt:"logo"},dt={key:1,src:Ve,alt:"logo"},vt={key:2,src:Ye,style:{position:"relative",bottom:"6px"},alt:"search icon"},ht={id:"search"},mt=["placeholder"],pt={key:0,class:"search-text",type:"button"},ft={key:1,src:Ne,alt:""},_t={key:2,src:Te,alt:""},gt={key:0,class:"search-suggestions"},yt=["onClick"],kt={class:"suggestion-content"},wt={class:"suggestion-name"},Ct={key:0,class:"setting",style:{top:"0"}},St={class:"right-section"},At={class:"setting-icon"},bt={class:"setting-icon"},Lt={class:"product-area"},Ut={class:"product-list"},Dt={key:0,id:"product-dummy"},Rt={key:0,src:Fe,alt:"back to top",class:"up-arrow"},Bt={key:1,src:Oe,alt:"back to top",class:"up-arrow"},Mt=Object.assign({name:"home"},{__name:"index",setup(w){const C=ae(),u=Ue(),v=we(),{isDark:y}=Ce(v),r=i(""),p=i(""),f=i(!1),S=i(!1),U=i(null),_=i({}),re=i({}),h=i(!1),A=i(!1),Y=i(!1),d=i([]),D=i(""),I=i(null),z=i(""),{t:It,locale:Q}=Se(),q={soc:"SoC型号",isa:"指令集特性",kernel:"内核版本",features:"镜像特性",status:"支持状态"},j=g(()=>["soc","isa","kernel","features","status"].map((t,s)=>{let o;return t==="soc"?o=Array.from(new Map(d.value.filter(l=>l[t]).map(l=>[l[t].name,l[t]])).values()):o=[...new Set(d.value.map(l=>Array.isArray(l[t])?l[t]:[l[t]]).flat().filter(l=>l))],{id:s+1,name:q[t],item:o}})),K=g(()=>{if(!r.value)return[];const e=new Set,t=[];return d.value.forEach(s=>{const o=r.value.toLowerCase();let l=null;if(s.soc&&s.soc.name&&s.soc.name.toLowerCase().includes(o)){const m=`${s.soc.vendor} ${s.soc.name}`;e.has(m)||(l={...s,displayName:m,type:"soc"},e.add(m))}else if(s.name.toLowerCase().includes(o)){const m=`${s.vendor.name} ${s.name}`;e.has(m)||(l={...s,displayName:m,type:"product"},e.add(m))}else s.vendor.name.toLowerCase().includes(o)&&(e.has(s.vendor.name)||(l={...s,displayName:s.vendor.name,type:"vendor"},e.add(s.vendor.name)));l&&t.push(l)}),t.slice(0,5)}),le=g(()=>Object.keys(_.value).length===0?d.value:d.value.filter(e=>Object.entries(_.value).every(([t,s])=>{const o=Object.keys(q).find(m=>{var W;return q[m]===((W=j.value.find(_e=>_e.id===Number(t)))==null?void 0:W.name)});if(!o)return!0;const l=e[o];return o==="soc"?l.name===s.name:Array.isArray(l)?l.includes(s):l===s}))),P=g(()=>{let e=le.value;if(S.value){if(!p.value)return[];const t=p.value.toLowerCase();e=e.filter(s=>s.name.toLowerCase().includes(t)||s.vendor.name.toLowerCase().includes(t)||s.soc&&s.soc.name&&s.soc.name.toLowerCase().includes(t))}return e});g(()=>e=>{var t;return _.value[e]?typeof _.value[e]=="object"&&_.value[e].vendor.name?`${_.value[e].vendor.name} ${_.value[e].name}`:_.value[e]:(t=j.value.find(s=>s.id===e))==null?void 0:t.name});const Z=()=>{const e=Q.value==="zh_CN"?"en_US":"zh_CN";Q.value=e,Pe("lang",e);let t=u.path;t.includes("zh_CN")?t=t.replace("zh_CN","en_US"):t.includes("en_US")&&(t=t.replace("en_US","zh_CN")),C.push({path:t,query:{...u.query,lang:e}}),Me.emit("languageChanged",e),$()},ce=e=>{r.value=e.target.value,r.value||(S.value=!1,p.value="",C.replace({...u,query:{...u.query,kw:void 0}})),f.value=!0},ie=((e,t)=>{let s=null;return(...o)=>{clearTimeout(s),s=setTimeout(()=>{e.apply(this,o)},t)}})(e=>{C.replace({...u,query:{...u.query,kw:e||void 0}})},300);M(()=>u.query,e=>{e.kw!==r.value&&(r.value=e.kw||"",p.value=e.kw||"")},{immediate:!0});const E=()=>{if(r.value){f.value=!1,S.value=!0,p.value=r.value;const e=document.querySelector("#search");e.style.backgroundColor="transparent",h.value=!1,window.scrollTo({top:0,behavior:"smooth"})}ie(r.value)},ue=()=>{h.value&&!r.value&&(A.value=!0,ee(()=>{const e=document.querySelector("#search");e.style.backgroundColor="#f0f0f0",U.value.focus(),U.value.placeholder=D.value}))},de=()=>{h.value&&setTimeout(()=>{if(f.value=!1,!r.value){const e=document.querySelector("#search");A.value=!1,e.style.backgroundColor="transparent"}},200)},ve=e=>{e.type==="soc"?r.value=e.soc.name:e.type==="vendor"?r.value=e.vendor.name:r.value=e.name,f.value=!1},he=()=>{window.scrollTo({top:0,behavior:"smooth"})},me=()=>{re.value={}},pe=e=>{e.target.closest(".search-container")||(f.value=!1)},R=i(0),N=i(!1),T=()=>{R.value=document.body.scrollWidth,x(R.value)};Ae(()=>{window.removeEventListener("resize",T),window.removeEventListener("scroll",H),I.value&&clearInterval(I.value)}),M(R,e=>{x(e)}),M(P,e=>{x(R.value)});const x=e=>{Math.floor((e+16)/256)>P.value.length?(N.value=!1,document.querySelectorAll(".dummy-wrapper").forEach(function(s){s.style.display="none"})):(N.value=!0,document.querySelectorAll(".dummy-wrapper").forEach(function(s){s.style.display="block"}))},$=async()=>{try{const e=await xe();d.value=e.data,await ee()}catch(e){console.error("获取产品列表失败:",e)}},G=()=>{if(!d.value||d.value.length===0)return"";let e;do{const t=Math.floor(Math.random()*d.value.length);e=d.value[t].name}while(e===z.value&&d.value.length>1);return z.value=e,e},fe=()=>{D.value=G(),I.value=setInterval(()=>{D.value=G()},5e3)},H=be(()=>{const e=document.querySelector(".search-container"),t=document.querySelector(".search-input"),s=t.placeholder;if(Y.value=window.scrollY>400,window.scrollY>385){if(h.value=!0,t.placeholder="",A.value=!1,r.value){const o=document.querySelector("#search");o.style.backgroundColor="#f0f0f0",A.value=!0}else{const o=document.querySelector("#search");o.style.backgroundColor="transparent"}e.classList.add("sticky")}else if(window.scrollY<285&&e.classList.contains("sticky")){h.value=!1;const o=document.querySelector("#search");o.style.backgroundColor="transparent",t.placeholder=s,A.value=!0,e.classList.remove("sticky")}},100);return Le(async()=>{await $(),fe(),T(),window.addEventListener("resize",T),document.addEventListener("click",me),document.addEventListener("click",pe),window.addEventListener("scroll",H);const e=u.query.kw;e&&(r.value=e,p.value=e,S.value=!0,E())}),(e,t)=>{const s=De("el-button");return a(),c("div",Je,[h.value?L("",!0):(a(),c("div",et,[n("div",tt,[n("div",st,[B(te)]),n("div",ot,[B(s,{onClick:Z,round:"",dark:"",class:"no-border-button"},{default:J(()=>[k(u).query.lang==="zh_CN"?(a(),b(se,{key:0})):(a(),b(oe,{key:1}))]),_:1})])])])),n("div",at,[k(y)?(a(),c("img",rt)):(a(),c("img",nt))]),n("div",lt,[n("div",ct,[n("div",it,[h.value&&!k(y)?(a(),c("img",ut)):h.value&&k(y)?(a(),c("img",dt)):(a(),c("img",vt))]),n("div",ht,[X(n("input",{type:"text",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),onInput:ce,onKeyup:Be(E,["enter"]),placeholder:D.value,onBlur:de,ref_key:"searchInputRef",ref:U},null,40,mt),[[Re,r.value]]),n("div",{class:Ie(["search-img",{"search-button":r.value}]),onClick:t[1]||(t[1]=o=>r.value?E():ue())},[r.value?(a(),c("button",pt,"搜 索")):k(y)?(a(),c("img",_t)):(a(),c("img",ft))],2),f.value&&K.value.length>0?(a(),c("div",gt,[(a(!0),c(F,null,O(K.value,o=>(a(),c("div",{key:o.id,class:"suggestion-item",onClick:l=>ve(o)},[n("div",kt,[n("div",wt,V(o.displayName),1)])],8,yt))),128))])):L("",!0)]),h.value?(a(),c("div",Ct,[n("div",St,[n("div",At,[B(te)]),n("div",bt,[B(s,{onClick:Z,dark:"",class:"no-border-button"},{default:J(()=>[k(u).query.lang==="zh_CN"?(a(),b(se,{key:0})):(a(),b(oe,{key:1}))]),_:1})])])])):L("",!0)])]),n("div",Lt,[n("div",Ut,[(a(!0),c(F,null,O(P.value,o=>(a(),b(Xe,{key:o.name,info:o},null,8,["info"]))),128)),(a(),c(F,null,O(14,o=>n("div",{key:o,class:"dummy-wrapper"},[N.value?(a(),c("div",Dt)):L("",!0)])),64))])]),X(n("div",{class:"back-to-top",onClick:he},[k(y)?(a(),c("img",Rt)):(a(),c("img",Bt))],512),[[qe,Y.value]])])}}});export{Mt as default};
